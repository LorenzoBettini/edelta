/**
 * generated by Xtext 2.10.0
 */
package edelta.ui.quickfix;

import org.eclipse.xtext.ui.editor.quickfix.Fix;
import org.eclipse.xtext.ui.editor.quickfix.IssueResolutionAcceptor;
import org.eclipse.xtext.validation.Issue;
import org.eclipse.xtext.xbase.annotations.ui.quickfix.XbaseWithAnnotationsQuickfixProvider;

import edelta.validation.EdeltaValidator;

/**
 * Custom quickfixes.
 * 
 * See
 * https://www.eclipse.org/Xtext/documentation/310_eclipse_support.html#quick-fixes
 */
public class EdeltaQuickfixProvider extends XbaseWithAnnotationsQuickfixProvider {

	@Fix(EdeltaValidator.INVALID_SUBPACKAGE_IMPORT)
	public void importRootPackage(final Issue issue, final IssueResolutionAcceptor acceptor) {
		final String rootPackageName = issue.getData()[0];
		acceptor.accept(
			issue,
			"Import root EPackage",
			"Import root EPackage \'" + rootPackageName + "\'",
			"EPackage.gif",
			context -> 
				context.getXtextDocument().replace(
					issue.getOffset(),
					issue.getLength(),
					"\"" + rootPackageName + "\"")
		);
	}

	@Fix(EdeltaValidator.INTERPRETER_ACCESS_RENAMED_ELEMENT)
	public void useRenamedElement(final Issue issue, final IssueResolutionAcceptor acceptor) {
		final String renamed = issue.getData()[0];
		acceptor.accept(
			issue,
			"Use renamed element",
			"Use renamed element \'" + renamed + "\'",
			"EObject.gif",
			context -> 
				context.getXtextDocument().replace(
					issue.getOffset(),
					issue.getLength(),
					renamed)
		);
	}
}
